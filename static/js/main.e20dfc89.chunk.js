(this["webpackJsonptest-for-devlviv"]=this["webpackJsonptest-for-devlviv"]||[]).push([[0],{12:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return i}));var c=n(17),a="https://v6.exchangerate-api.com/v6/",r="95b20943d764a3594a574bb0",o=function(e){return console.log("req to rates server"),fetch("".concat(a).concat(r,"/latest/").concat(e)).then((function(e){return e.json()}))},s=function(e){return c.a[e]},i=function(e,t){return console.log("req to rates server"),fetch("".concat(a).concat(r,"/pair/").concat(e,"/").concat(t)).then((function(e){return e.json()}))}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var c={BD:"BDT",BE:"EUR",BF:"XOF",BG:"BGN",BA:"BAM",BB:"BBD",WF:"XPF",BL:"EUR",BM:"BMD",BN:"BND",BO:"BOB",BH:"BHD",BI:"BIF",BJ:"XOF",BT:"BTN",JM:"JMD",BV:"NOK",BW:"BWP",WS:"WST",BQ:"USD",BR:"BRL",BS:"BSD",JE:"GBP",BY:"BYR",BZ:"BZD",RU:"RUB",RW:"RWF",RS:"RSD",TL:"USD",RE:"EUR",TM:"TMT",TJ:"TJS",RO:"RON",TK:"NZD",GW:"XOF",GU:"USD",GT:"GTQ",GS:"GBP",GR:"EUR",GQ:"XAF",GP:"EUR",JP:"JPY",GY:"GYD",GG:"GBP",GF:"EUR",GE:"GEL",GD:"XCD",GB:"GBP",GA:"XAF",SV:"USD",GN:"GNF",GM:"GMD",GL:"DKK",GI:"GIP",GH:"GHS",OM:"OMR",TN:"TND",JO:"JOD",HR:"HRK",HT:"HTG",HU:"HUF",HK:"HKD",HN:"HNL",HM:"AUD",VE:"VEF",PR:"USD",PS:"ILS",PW:"USD",PT:"EUR",SJ:"NOK",PY:"PYG",IQ:"IQD",PA:"PAB",PF:"XPF",PG:"PGK",PE:"PEN",PK:"PKR",PH:"PHP",PN:"NZD",PL:"PLN",PM:"EUR",ZM:"ZMK",EH:"MAD",EE:"EUR",EG:"EGP",ZA:"ZAR",EC:"USD",IT:"EUR",VN:"VND",SB:"SBD",ET:"ETB",SO:"SOS",ZW:"ZWL",SA:"SAR",ES:"EUR",ER:"ERN",ME:"EUR",MD:"MDL",MG:"MGA",MF:"EUR",MA:"MAD",MC:"EUR",UZ:"UZS",MM:"MMK",ML:"XOF",MO:"MOP",MN:"MNT",MH:"USD",MK:"MKD",MU:"MUR",MT:"EUR",MW:"MWK",MV:"MVR",MQ:"EUR",MP:"USD",MS:"XCD",MR:"MRO",IM:"GBP",UG:"UGX",TZ:"TZS",MY:"MYR",MX:"MXN",IL:"ILS",FR:"EUR",IO:"USD",SH:"SHP",FI:"EUR",FJ:"FJD",FK:"FKP",FM:"USD",FO:"DKK",NI:"NIO",NL:"EUR",NO:"NOK",NA:"NAD",VU:"VUV",NC:"XPF",NE:"XOF",NF:"AUD",NG:"NGN",NZ:"NZD",NP:"NPR",NR:"AUD",NU:"NZD",CK:"NZD",XK:"EUR",CI:"XOF",CH:"CHF",CO:"COP",CN:"CNY",CM:"XAF",CL:"CLP",CC:"AUD",CA:"CAD",CG:"XAF",CF:"XAF",CD:"CDF",CZ:"CZK",CY:"EUR",CX:"AUD",CR:"CRC",CW:"ANG",CV:"CVE",CU:"CUP",SZ:"SZL",SY:"SYP",SX:"ANG",KG:"KGS",KE:"KES",SS:"SSP",SR:"SRD",KI:"AUD",KH:"KHR",KN:"XCD",KM:"KMF",ST:"STD",SK:"EUR",KR:"KRW",SI:"EUR",KP:"KPW",KW:"KWD",SN:"XOF",SM:"EUR",SL:"SLL",SC:"SCR",KZ:"KZT",KY:"KYD",SG:"SGD",SE:"SEK",SD:"SDG",DO:"DOP",DM:"XCD",DJ:"DJF",DK:"DKK",VG:"USD",DE:"EUR",YE:"YER",DZ:"DZD",US:"USD",UY:"UYU",YT:"EUR",UM:"USD",LB:"LBP",LC:"XCD",LA:"LAK",TV:"AUD",TW:"TWD",TT:"TTD",TR:"TRY",LK:"LKR",LI:"CHF",LV:"EUR",TO:"TOP",LT:"LTL",LU:"EUR",LR:"LRD",LS:"LSL",TH:"THB",TF:"EUR",TG:"XOF",TD:"XAF",TC:"USD",LY:"LYD",VA:"EUR",VC:"XCD",AE:"AED",AD:"EUR",AG:"XCD",AF:"AFN",AI:"XCD",VI:"USD",IS:"ISK",IR:"IRR",AM:"AMD",AL:"ALL",AO:"AOA",AS:"USD",AR:"ARS",AU:"AUD",AT:"EUR",AW:"AWG",IN:"INR",AX:"EUR",AZ:"AZN",IE:"EUR",ID:"IDR",UA:"UAH",QA:"QAR",MZ:"MZN"}},29:function(e,t,n){"use strict";n.r(t);var c=n(10),a=n.n(c),r=n(6),o=n(9),s=n(5),i=n(15),u=n(19),l="SET_USER_CURRENCY",R="SET_EXCHANGE_INFO",D="SET_EXCHANGE_RATES",S="SET_EXCHANGE_RATE",E={userCurrencyCode:"",moneyAmount:0,exchangeFrom:"",exchangeTo:"",exchangeRates:[],exchangeRate:0},O=Object(i.createStore)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case l:return Object(s.a)(Object(s.a)({},e),{},{userCurrencyCode:t.payload});case R:return Object(s.a)(Object(s.a)({},e),{},{moneyAmount:t.payload.moneyAmount,exchangeFrom:t.payload.exchangeFrom,exchangeTo:t.payload.exchangeTo});case D:return Object(s.a)(Object(s.a)({},e),{},{exchangeRates:t.payload});case S:return Object(s.a)(Object(s.a)({},e),{},{exchangeRate:t.payload});default:return e}}),Object(u.composeWithDevTools)()),U=O,j=n(11),b=n(8),A=n.n(b),N=n(1),d=n(0),m=n(2),h=function(){return Object(m.jsx)("div",{className:"container",children:Object(m.jsxs)("header",{className:"d-flex flex-wrap justify-content-center py-3 mb-4 border-bottom",children:[Object(m.jsx)("h1",{className:"d-flex align-items-center mb-3 mb-md-0 me-md-auto text-dark text-decoration-none",children:"Exchange rates"}),Object(m.jsxs)("nav",{className:"nav nav-pills",children:[Object(m.jsx)(o.b,{to:"/",className:function(e){var t=e.isActive;return"navbar-item is-tab nav-link ".concat(t?" active":"")},children:"Converter"}),Object(m.jsx)(o.b,{to:"/exchange-rates",className:function(e){var t=e.isActive;return"navbar-item is-tab nav-link ".concat(t?" active":"")},children:"Exchange rates"})]})]})})},x=function(){return Object(m.jsx)("div",{children:"Sorry... We do not have such page :("})},C=n(7),M=n(12),T=function(){var e=Object(d.useState)(""),t=Object(C.a)(e,2),n=t[0],c=t[1],a=Object(d.useState)(""),o=Object(C.a)(a,2),s=o[0],i=o[1],u=Object(r.b)(),l=Object(r.c)((function(e){return e.exchangeRate})),R=Object(r.c)((function(e){return e.moneyAmount})),D=Object(r.c)((function(e){return e.exchangeFrom})),S=Object(r.c)((function(e){return e.exchangeTo}));return Object(m.jsxs)("form",{onSubmit:function(e){return function(e){e.preventDefault();var t=n.split(" ");c(""),/\d+\s\w{3}\sto\s\w{3}/.test(n)?(i(""),u({type:"SET_EXCHANGE_INFO",payload:{moneyAmount:+t[0],exchangeFrom:t[1].toUpperCase(),exchangeTo:t[3].toUpperCase()}}),Object(j.a)(A.a.mark((function e(){var n;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(M.c)(t[1],t[3]);case 2:"error"!==(n=e.sent).result?u({type:"SET_EXCHANGE_RATE",payload:n.conversion_rate}):i("We got some error while loading data from server");case 4:case"end":return e.stop()}}),e)})))()):i("Please follow this pattern: [money amount] [code] to [code]")}(e)},className:"col-md-12 text-center",children:[Object(m.jsx)("div",{className:"mb-3",children:Object(m.jsxs)("label",{htmlFor:"exampleInputEmail1",className:"form-label",children:['Please enter a sentence like "100 USD to UAH"',Object(m.jsx)("input",{type:"text",className:"form-control",id:"exampleInputEmail1","aria-describedby":"emailHelp",value:n,onChange:function(e){c(e.target.value)}}),Object(m.jsx)("div",{id:"emailHelp",className:"form-text",children:s?Object(m.jsx)("span",{children:s}):function(){if(l&&"number"===typeof R){var e=Math.round(R*l*100)/100,t="".concat(R," ").concat(D," is equal to ").concat(e," ").concat(S);return Object(m.jsx)("span",{children:t})}return""}()})]})}),Object(m.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Get rate"})]})},G=Object(d.lazy)((function(){return n.e(3).then(n.bind(null,32))})),f=function(){var e=Object(r.b)();Object(d.useEffect)((function(){Object(j.a)(A.a.mark((function t(){var n,c,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,console.log("req to location server"),fetch("https://extreme-ip-lookup.com/json/?key=ShlUFaRmsfAKK67LzO49").then((function(e){return e.json()}));case 2:n=t.sent,c=n.countryCode,a=Object(M.a)(c),e({type:"SET_USER_CURRENCY",payload:a});case 6:case"end":return t.stop()}}),t)})))()}),[]);return Object(m.jsxs)("div",{className:"d-flex flex-wrap justify-content-center py-3 mb-4",children:[Object(m.jsx)(h,{}),Object(m.jsxs)(N.c,{children:[Object(m.jsx)(N.a,{path:"/",element:Object(m.jsx)(T,{})}),Object(m.jsx)(N.a,{path:"/exchange-rates",element:Object(m.jsx)(d.Suspense,{fallback:Object(m.jsx)("div",{children:"Loading data..."}),children:Object(m.jsx)(G,{})})}),Object(m.jsx)(N.a,{path:"*",element:Object(m.jsx)(x,{})})]})]})},p=function(){return Object(m.jsx)(r.a,{store:U,children:Object(m.jsx)(o.a,{children:Object(m.jsx)(f,{})})})};a.a.render(Object(m.jsx)(p,{}),document.getElementById("root"))}},[[29,1,2]]]);
//# sourceMappingURL=main.e20dfc89.chunk.js.map